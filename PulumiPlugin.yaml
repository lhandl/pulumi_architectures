runtime: yaml
name: lhandl-architectures

components:
  Architecture:
    description: Top-level architecture component
    inputProperties:
      who:
        type: string
        description: Optional name to greet
        # default: "world"   # optional; you can add a default if you like
    resources:
      helloProv:
        type: pulumi:providers:lhandl-test
        properties: {}
        options:
          version: 0.1.0
          pluginDownloadURL: github://api.github.com/lhandl/pulumi-test

      hello:
        type: lhandl-test:index:HelloWorld
        properties:
          who: ${args.who}         # <-- use the input
        options:
          provider: ${helloProv}

    outputs:
      greeting: ${hello.greeting}

